IF OBJECT_ID(N'FNACND', N'FN') IS NOT NULL
    DROP FUNCTION [dbo].[FNACND]
GO 


CREATE FUNCTION [dbo].[FNACND]
(
	@X FLOAT
)
RETURNS FLOAT
AS
BEGIN
	DECLARE @L   FLOAT
	DECLARE @K   FLOAT
	DECLARE @a1  FLOAT
	DECLARE @a2  FLOAT
	DECLARE @a3  FLOAT
	DECLARE @a4  FLOAT
	DECLARE @a5  FLOAT
	SET @a1 = 0.31938153
	SET @a2 = -0.356563782
	SET @a3 = 1.781477937
	SET @a4 = -1.821255978
	SET @a5 = 1.330274429
	SET @L = ABS(@X)
	SET @K = 1 / (1 + 0.2316419 * @L)
	DECLARE @FNACND1 FLOAT
	SET @FNACND1 = 1 - 1 / SQRT(2 * PI()) * EXP(-POWER(@L, 2) / 2) * (
	        @a1 * @K + @a2 *
	        POWER(@K, 2) + @a3 * POWER(@K, 3) + @a4 * POWER(@K, 4) + @a5 * POWER(@K, 5)
	    )
	IF @X < 0
	BEGIN
	    SET @FNACND1 = 1 - @FNACND1
	END
	
	RETURN @FNACND1
END 






