DECLARE @mapping_table_id INT   
SELECT @mapping_table_id = mapping_table_id FROM generic_mapping_header WHERE mapping_name = 'XConnect Tag Definition' 

IF NOT EXISTS(SELECT 1 from generic_mapping_header gmh INNER JOIN generic_mapping_values gmv ON gmh.mapping_table_id = gmv.mapping_table_id WHERE mapping_name = 'XConnect Tag Definition' AND gmv.clm4_value = 'PartySubID' AND gmv.clm5_value IN('12')) BEGIN INSERT INTO generic_mapping_values(mapping_table_id, clm1_value, clm2_value, clm3_value, clm4_value, clm5_value) VALUES (@mapping_table_id,'523','PartySubID',NULL,'PartySubID','12') END
IF NOT EXISTS(SELECT 1 from generic_mapping_header gmh INNER JOIN generic_mapping_values gmv ON gmh.mapping_table_id = gmv.mapping_table_id WHERE mapping_name = 'XConnect Tag Definition' AND gmv.clm4_value = 'Firm' AND gmv.clm5_value IN('12')) BEGIN INSERT INTO generic_mapping_values(mapping_table_id, clm1_value, clm2_value, clm3_value, clm4_value, clm5_value) VALUES (@mapping_table_id,'545','NestedPartySubID','1','Firm','12') END
IF NOT EXISTS(SELECT 1 from generic_mapping_header gmh INNER JOIN generic_mapping_values gmv ON gmh.mapping_table_id = gmv.mapping_table_id WHERE mapping_name = 'XConnect Tag Definition' AND gmv.clm4_value = 'PositionAccountType' AND gmv.clm5_value IN('12')) BEGIN INSERT INTO generic_mapping_values(mapping_table_id, clm1_value, clm2_value, clm3_value, clm4_value, clm5_value) VALUES (@mapping_table_id,'545','NestedPartySubID','26','PositionAccountType','12') END
IF NOT EXISTS(SELECT 1 from generic_mapping_header gmh INNER JOIN generic_mapping_values gmv ON gmh.mapping_table_id = gmv.mapping_table_id WHERE mapping_name = 'XConnect Tag Definition' AND gmv.clm4_value = 'TraderNodal' AND gmv.clm5_value IN('12')) BEGIN INSERT INTO generic_mapping_values(mapping_table_id, clm1_value, clm2_value, clm3_value, clm4_value, clm5_value) VALUES (@mapping_table_id,'545','NestedPartySubID','2','TraderNodal','12') END
