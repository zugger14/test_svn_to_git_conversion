IF EXISTS (SELECT 1 FROM sys.objects WHERE OBJECT_ID = OBJECT_ID(N'[dbo].[tradeweb_message_result]') AND TYPE IN (N'U'))
BEGIN
    PRINT 'Table Already Exists'
END
ELSE
 BEGIN
	CREATE TABLE [dbo].[tradeweb_message_result]
	(
		ID INT IDENTITY(1, 1) NOT NULL,
		TradeReportID VARCHAR(250) COLLATE DATABASE_DEFAULT  NULL,
		TradeID VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		TradeVersion VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		TradeReportType  VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		TradeReportTransType  VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		SecondaryTradeReportID  VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		Symbol VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		SecurityID  VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		SecurityIDSource  VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		QtyType  VARCHAR(500) COLLATE DATABASE_DEFAULT  NULL,
		LastQty VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		NotionalAmt VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		PriceType VARCHAR(500) COLLATE DATABASE_DEFAULT  NULL,
		LastPx VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		TransactTime VARCHAR(100) COLLATE DATABASE_DEFAULT  NULL,
		DeferralCode VARCHAR(500) COLLATE DATABASE_DEFAULT  NULL,
		InitialDeferralCode VARCHAR(500) COLLATE DATABASE_DEFAULT  NULL,
		TradeReportRejectReason VARCHAR(500) COLLATE DATABASE_DEFAULT  NULL,
		sent_status INT NULL,
		[create_user] VARCHAR(50) NULL DEFAULT dbo.FNADBUser(),
		[create_ts] DATETIME NULL DEFAULT GETDATE()
	)
	PRINT 'Table created'
END