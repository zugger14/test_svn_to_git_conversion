{"version":3,"file":"dhtmlxgantt_auto_scheduling.js","sources":["dhtmlxgantt_auto_scheduling.js"],"names":["Gantt","plugin","gantt","config","auto_scheduling","auto_scheduling_descendant_links","auto_scheduling_initial","auto_scheduling_strict","oldDefaultTaskDate","_default_task_date","item","parent_id","startDate","apply","arguments","$target","$source","date","_getTaskMinimalStartDate","_firstSmaller","getClosestWorkTime","dir","_datesNotEqual","dateA","dateB","valueOf","this","_hasDuration","small","big","_firstBigger","_notEqualTaskDates","task1","task2","start_date","end_date","duration","type","types","milestone","_autoScheduleHandler","taskId","mode","task","_autoscheduling_in_progress","newTask","getTask","autoSchedule","id","_linkChangeAutoScheduleHandler","linkId","link","source","_autoScheduleOnLoadHandler","_checkCircularDependency","element","checkLink","usedElements","currentRefEl","i","length","currentLink","getLink","_get_link_target","children","getChildren","refElement","_checkParents","tasks","root_id","parent","getParent","_linkValidationHandler","result","isChildOf","target","callEvent","_lightBoxChangesHandler","oldTask","_autoschedule_lightbox_id","_lightBoxSaveHandler","attachEvent","upTasks","_autoScheduleByTask","_updateTasks","tasksList","push","updatedTasksList","_autoScheduleLinkedTasks","_autoScheduleParents","updatedTasks","currentParent","strictStart","undefined","newStart","parentTask","parentStart","_getProjectMinimalStartDate","needAutoschedule","_isTask","source_task","_updateTaskPosition","taskChildren","isStrictParent","referencedTask","taskParent","calculateEndDate","batchUpdate","updateTask","_calculateMinDate","predecessor","relation","new_start","links","finish_to_start","start_to_start","start_to_finish","finish_to_finish","lag","_get_link_source","ownDates","predecessorDates","_isProject","getSubtaskDates","calculateDuration","Date","_mustMove","project","projectParent","parentMinDate","bigParent","_isStrictParent","elementId"],"mappings":"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"}